(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{195:function(e,a,t){e.exports=t(393)},200:function(e,a,t){},378:function(e,a,t){},393:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(8),l=t.n(c),i=(t(200),t(47)),o=t(20),m=t(16),u=t(27),s=t.n(u),p=t(51),d=t(13),E=t(396),f=t(80),b=t(395),h=t(397),v=t(398),g=t(33),j=E.a.Title,O=(E.a.Paragraph,E.a.Text,f.a.Option,function(e){var a=e.application,t=!a.id,n=Object(m.b)({url:"/applications".concat(t?"":"/".concat(a.id)),method:t?"POST":"PUT"},{manual:!0}),c=Object(o.a)(n,2),l=c[0],u=l.data,f=(l.loading,l.error,c[1]),O=function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f({data:a});case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return u?r.a.createElement(i.a,{to:"/application"}):r.a.createElement(b.a,{title:t?"Creating":"Editing ".concat(a.name),style:{margin:"32px"}},r.a.createElement(h.a,{labelCol:{span:2},name:"basic",onFinish:O,onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(h.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Your microfrontend name."}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Save"))),t?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(j,null,"Micros")),r.a.createElement("div",{className:"Application__microfrontend-list"},r.a.createElement(b.a,{title:"Create microfrontend",extra:r.a.createElement(d.b,{to:"/microfrontend/new?applicationId=".concat(a.id)},"New"),style:{width:300,marginRight:"18px"}},"Create microfrontend"),a.microfrontends.map((function(e){return r.a.createElement(b.a,{title:e.name,extra:r.a.createElement(d.b,{to:"/microfrontend/".concat(e.id)},"Edit"),style:{width:300,marginRight:"18px"}},e.name)})))))});var x=function(){var e=Object(i.i)().applicationId,a=Object(m.b)("/applications/".concat(e)),t=Object(o.a)(a,2),n=t[0],c=n.data,l=n.loading;return n.error,t[1],l?r.a.createElement("div",null,"loading"):r.a.createElement("div",null,r.a.createElement("a",{target:"_blank",href:"http://localhost:8080/applications/".concat(e,"/meta")}," Meta.json"),r.a.createElement(O,{application:c}))},y=(t(378),function(e){var a=e.application;return r.a.createElement(b.a,{title:a.name,extra:r.a.createElement(d.b,{to:"/application/".concat(a.id)},"Edit"),style:{width:300,marginRight:"18px"}},r.a.createElement("p",null,"Name: ",a.name))});var w=function(){var e=Object(m.b)("/applications",{manual:!0}),a=Object(o.a)(e,2),t=a[0],c=t.data,l=(t.loading,t.error,a[1]);return Object(n.useEffect)((function(){l()}),[]),c?r.a.createElement("div",{className:"ApplicationList"},r.a.createElement(b.a,{title:"Create application",extra:r.a.createElement(d.b,{to:"/application/new"},"New"),style:{width:300,marginRight:"18px"}},"Create application"),c.map((function(e){return r.a.createElement(y,{key:e.id,application:e})}))):null};var I=function(){return r.a.createElement(O,{application:{}})};var F=function(){var e=Object(i.j)();return r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"".concat(e.path,"/new")},r.a.createElement(I,null)),r.a.createElement(i.b,{path:"".concat(e.path,"/:applicationId")},r.a.createElement(x,null)),r.a.createElement(i.b,{path:e.path},r.a.createElement(w,null))))},k=t(81),T=t(394),P=t(399),C=E.a.Title;E.a.Paragraph,E.a.Text,f.a.Option;var A=function(e){var a=e.microfrontend,t=!a.id,n=Object(i.g)(),c=Object(m.b)({url:"/microfrontends".concat(t?"":"/".concat(a.id)),method:t?"POST":"PUT"},{manual:!0}),l=Object(o.a)(c,2),u=l[0],d=u.data,E=(u.loading,u.error,l[1]),f=new URLSearchParams(Object(i.h)().search).get("applicationId");console.info({applicationId:f});var j=function(){var e=Object(p.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({data:Object(k.a)({},a,{applicationId:f})});case 2:n.goBack();case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=[{title:"Created at",dataIndex:"createdAt",key:"createdAt"},{title:"Name",dataIndex:"name",key:"name"},{title:"Status",dataIndex:"status",key:"status"},{title:"Action",render:function(e){return r.a.createElement("span",null,r.a.createElement(g.a,null,"Aprove"))}}];return d?null:r.a.createElement(b.a,{title:t?"Creating":"Editing ".concat(a.name),style:{margin:"32px"}},r.a.createElement(h.a,{labelCol:{span:2},name:"basic",onFinish:j,onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(h.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Your microfrontend name."}]},r.a.createElement(v.a,null)),r.a.createElement(h.a.Item,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Save"))),t?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null,"Versions"),r.a.createElement(T.a,{columns:O,dataSource:a.versions.map((function(e){return Object(k.a)({},e,{key:e.id})}))}),r.a.createElement(C,null,"History"),r.a.createElement(P.a,null,a.versions.map((function(e){return r.a.createElement(P.a.Item,{key:e.id,color:"green"},"Version ",e.name," created at ",e.createdAt)})))))};var S=function(){var e=Object(i.i)().microfrontendId,a=Object(m.b)("/microfrontends/".concat(e)),t=Object(o.a)(a,2),n=t[0],c=n.data,l=n.loading;return n.error,t[1],l?r.a.createElement("div",null,"loading"):r.a.createElement(A,{microfrontend:c})};var N=function(){return r.a.createElement(A,{microfrontend:{}})};var R=function(){var e=Object(i.j)();return r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"".concat(e.path,"/new")},r.a.createElement(N,null)),r.a.createElement(i.b,{path:"".concat(e.path,"/:microfrontendId")},r.a.createElement(S,null))))},U=t(70),L=t.n(U).a.create({baseURL:"http://localhost:8080/"});Object(m.a)({axios:L});var B=t(192);E.a.Title,E.a.Paragraph,E.a.Text,f.a.Option;var W=function(e){var a=e.version,t=!a.id,n=Object(i.g)(),c=Object(m.b)({url:"/versions".concat(t?"":"/".concat(a.id)),method:t?"POST":"PUT"},{manual:!0}),l=Object(o.a)(c,2),u=l[0],d=u.data,E=(u.loading,u.error,l[1]),f=Object(m.b)({url:"/versions/".concat(a.id,"/approve"),method:"PUT"},{manual:!0}),j=Object(o.a)(f,2),O=(j[0],j[1]),x=new URLSearchParams(Object(i.h)().search).get("microfrontendId"),y=function(){var e=Object(p.a)(s.a.mark((function e(a){var t,r,c,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.files,r=Object(B.a)(a,["files"]),c=t.reduce((function(e,a){return a.endsWith(".css")&&e.cssFiles.push(a),a.endsWith(".js")&&e.jsFiles.push(a),e}),{jsFiles:[],cssFiles:[]}),l=c.jsFiles,i=c.cssFiles,e.next=4,E({data:Object(k.a)({},r,{files:{js:l,css:i},microfrontendId:x})});case 4:n.goBack();case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(p.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return d?null:r.a.createElement(b.a,{title:t?"Creating":"Editing ".concat(a.name),style:{margin:"32px"}},r.a.createElement(h.a,{labelCol:{span:2},name:"basic",onFinish:y,onFinishFailed:function(e){console.log("Failed:",e)}},r.a.createElement(h.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Your version name."}]},r.a.createElement(v.a,null)),a.status,r.a.createElement(h.a.Item,null,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Save"),"NEEDS_APROVAL"===a.status&&r.a.createElement(g.a,{type:"default",onClick:w},"Approve"))))};var _=function(){var e=Object(i.i)().versionId,a=Object(m.b)("/versions/".concat(e)),t=Object(o.a)(a,2),n=t[0],c=n.data,l=n.loading;return n.error,t[1],l?r.a.createElement("div",null,"loading"):r.a.createElement(W,{version:c})};var q=function(){return r.a.createElement(W,{version:{}})};var V=function(){var e=Object(i.j)();return r.a.createElement("div",null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"".concat(e.path,"/new")},r.a.createElement(q,null)),r.a.createElement(i.b,{path:"".concat(e.path,"/:versionId")},r.a.createElement(_,null))))};var Y=function(){return r.a.createElement(d.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/"},r.a.createElement(d.b,{to:"/application"},"Apps")),r.a.createElement(i.b,{path:"/application"},r.a.createElement(F,null)),r.a.createElement(i.b,{path:"/microfrontend"},r.a.createElement(R,null)),r.a.createElement(i.b,{path:"/version"},r.a.createElement(V,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[195,1,2]]]);
//# sourceMappingURL=main.a25676b8.chunk.js.map